var e,t;"function"==typeof(e=globalThis.define)&&(t=e,e=null),function(t,n,r,s,i){var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o="function"==typeof a[s]&&a[s],l=o.cache||{},c="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function u(e,n){if(!l[e]){if(!t[e]){var r="function"==typeof a[s]&&a[s];if(!n&&r)return r(e,!0);if(o)return o(e,!0);if(c&&"string"==typeof e)return c(e);var i=Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}h.resolve=function(n){var r=t[e][1][n];return null!=r?r:n},h.cache={};var p=l[e]=new u.Module(e);t[e][0].call(p.exports,h,p,p.exports,this)}return l[e].exports;function h(e){var t=h.resolve(e);return!1===t?{}:u(t)}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=t,u.cache=l,u.parent=o,u.register=function(e,n){t[e]=[function(e,t){t.exports=n},{}]},Object.defineProperty(u,"root",{get:function(){return a[s]}}),a[s]=u;for(var p=0;p<n.length;p++)u(n[p]);if(r){var h=u(r);"object"==typeof exports&&"undefined"!=typeof module?module.exports=h:"function"==typeof e&&e.amd?e(function(){return h}):i&&(this[i]=h)}}({"7PQKK":[function(e,t,n){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(n),r.export(n,"config",()=>a);var s=e("@plasmohq/storage");let i=new s.Storage,a={matches:["https://www.okcupid.com/*"],all_frames:!0};console.log("Content script loaded on",window.location.href);let o=()=>{let e=document.createElement("button");e.textContent="Click Me",e.style.position="fixed",e.style.bottom="10px",e.style.right="10px",e.style.zIndex="1000",e.onclick=()=>alert("Button clicked!"),document.body.appendChild(e)};async function l(e="",t={}){let n=await fetch(e,{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json","x-okcupid-platform":"DESKTOP","x-okcupid-version":"1"},body:JSON.stringify(t)});return await n.json()}async function c(){return await l("https://www.okcupid.com/graphql",{operationName:"WebGetUserGuide",variables:{userGuide:"SMS_MIGRATION_MODAL"},query:"query WebGetUserGuide($userGuide: UserGuide!) {\n  me {\n    id\n    hasSeenUserGuide(feature: $userGuide)\n    __typename\n  }\n}\n"}).then(e=>e.data.me.id)}async function u(){let e=await c(),t=await l("https://www.okcupid.com/graphql",{operationName:"WebStacksMenu",variables:{id:e,userGuides:["STACK_JUST_FOR_YOU","STACK_NEARBY","STACK_POPULAR","STACK_MOST_QUESTIONS","STACK_ONLINE_NOW","STACK_NEW_USERS","STACK_MATCH_PERCENTAGE","STACK_PROMOTED_QUESTION"]},query:"fragment PhotoFragment on Photo {\n  square100\n  square120\n  square225\n  square400\n  __typename\n}\n\nfragment FirstMessage on Match {\n  senderLikes\n  senderPassed\n  firstMessage {\n    id\n    threadId\n    text\n    profileComment {\n      ... on ProfileCommentPhoto {\n        photo {\n          square800\n          __typename\n        }\n        __typename\n      }\n      ... on ProfileCommentEssay {\n        essayTitle\n        essayText\n        __typename\n      }\n      ... on ProfileCommentInstagramPhoto {\n        instagramPhoto {\n          square640\n          __typename\n        }\n        __typename\n      }\n      ... on ProfileCommentQuestion {\n        questionText\n        targetAnswer\n        targetExplanation\n        __typename\n      }\n      __typename\n    }\n    __typename\n  }\n  __typename\n}\n\nfragment StackUserFragment on StackMatch {\n  stream\n  match {\n    ...FirstMessage\n    matchPercent\n    targetLikes\n    senderLikes\n    targetMessageTime\n    targetLikeViaSpotlight\n    user {\n      id\n      displayname\n      username\n      age\n      primaryImage {\n        id\n        ...PhotoFragment\n        __typename\n      }\n      location {\n        summary\n        __typename\n      }\n      photos {\n        id\n        ...PhotoFragment\n        __typename\n      }\n      essaysWithUniqueIds {\n        id\n        title\n        processedContent\n        __typename\n      }\n      detailSentences {\n        name\n        text\n        __typename\n      }\n      __typename\n    }\n    __typename\n  }\n  __typename\n}\n\nfragment PromotedQuestionPromptFragment on PromotedQuestionPrompt {\n  questionId\n  __typename\n}\n\nfragment LikesCapFragment on User {\n  likesCap {\n    likesRemaining\n    resetTime\n    viewCount\n    __typename\n  }\n  __typename\n}\n\nquery WebStacksMenu($id: String!, $userGuides: [UserGuide!]!) {\n  user(id: $id) {\n    id\n    hasSeenUserGuides(features: $userGuides)\n    hasSeenSwipeyOnboarding: hasSeenUserGuide(feature: MW_ONBOARDING_QM_SWIPEY)\n    hasSeenTappyOnboarding: hasSeenUserGuide(feature: MW_ONBOARDING_QM_TAPPY)\n    ...LikesCapFragment\n    stacks {\n      id\n      status\n      votesRemaining\n      expireTime\n      data {\n        ...StackUserFragment\n        ...PromotedQuestionPromptFragment\n        __typename\n      }\n      __typename\n    }\n    __typename\n  }\n}\n"}),n=t.data.user.likesCap.likesRemaining,r=document.createElement("div");r.textContent=n,r.style.position="fixed",r.style.bottom="10px",r.style.right="150px",r.style.zIndex="1000",document.body.appendChild(r),console.log("success likes =>",n),await i.set("likes",n)}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",o):o(),u()},{"@plasmohq/storage":"loHJm","@parcel/transformer-js/src/esmodule-helpers.js":"cHUbl"}],loHJm:[function(e,t,n){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(n),r.export(n,"BaseStorage",()=>o),r.export(n,"Storage",()=>l);var s=e("pify"),i=r.interopDefault(s),a=()=>{try{let e=globalThis.navigator?.userAgent.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];if("Chrome"===e[1])return 100>parseInt(e[2])||globalThis.chrome.runtime?.getManifest()?.manifest_version===2}catch{}return!1},o=class{#e;#t;get primaryClient(){return this.#t}#n;get secondaryClient(){return this.#n}#r;get area(){return this.#r}get hasWebApi(){try{return"u">typeof window&&!!window.localStorage}catch(e){return console.error(e),!1}}#s=new Map;#i;get copiedKeySet(){return this.#i}isCopied=e=>this.hasWebApi&&(this.allCopied||this.copiedKeySet.has(e));#a=!1;get allCopied(){return this.#a}getExtStorageApi=()=>globalThis.browser?.storage||globalThis.chrome?.storage;get hasExtensionApi(){try{return!!this.getExtStorageApi()}catch(e){return console.error(e),!1}}isWatchSupported=()=>this.hasExtensionApi;keyNamespace="";isValidKey=e=>e.startsWith(this.keyNamespace);getNamespacedKey=e=>`${this.keyNamespace}${e}`;getUnnamespacedKey=e=>e.slice(this.keyNamespace.length);constructor({area:e="sync",allCopied:t=!1,copiedKeyList:n=[]}={}){this.setCopiedKeySet(n),this.#r=e,this.#a=t;try{this.hasWebApi&&(t||n.length>0)&&(this.#n=window.localStorage)}catch{}try{this.hasExtensionApi&&(this.#e=this.getExtStorageApi(),a()?this.#t=(0,i.default)(this.#e[this.area],{exclude:["getBytesInUse"],errorFirst:!1}):this.#t=this.#e[this.area])}catch{}}setCopiedKeySet(e){this.#i=new Set(e)}rawGetAll=()=>this.#t?.get();getAll=async()=>Object.entries(await this.rawGetAll()).filter(([e])=>this.isValidKey(e)).reduce((e,[t,n])=>(e[this.getUnnamespacedKey(t)]=n,e),{});copy=async e=>{let t=void 0===e;if(!t&&!this.copiedKeySet.has(e)||!this.allCopied||!this.hasExtensionApi)return!1;let n=this.allCopied?await this.rawGetAll():await this.#t.get((t?[...this.copiedKeySet]:[e]).map(this.getNamespacedKey));if(!n)return!1;let r=!1;for(let e in n){let t=n[e],s=this.#n?.getItem(e);this.#n?.setItem(e,t),r||=t!==s}return r};rawGet=async e=>this.hasExtensionApi?(await this.#t.get(e))[e]:this.isCopied(e)?this.#n?.getItem(e):null;rawSet=async(e,t)=>(this.isCopied(e)&&this.#n?.setItem(e,t),this.hasExtensionApi&&await this.#t.set({[e]:t}),null);clear=async(e=!1)=>{e&&this.#n?.clear(),await this.#t.clear()};rawRemove=async e=>{this.isCopied(e)&&this.#n?.removeItem(e),this.hasExtensionApi&&await this.#t.remove(e)};removeAll=async()=>{let e=Object.keys(await this.getAll());await Promise.all(e.map(this.remove))};watch=e=>{let t=this.isWatchSupported();return t&&this.#o(e),t};#o=e=>{for(let t in e){let n=this.getNamespacedKey(t),r=this.#s.get(n)?.callbackSet||new Set;if(r.add(e[t]),r.size>1)continue;let s=(e,t)=>{if(t!==this.area||!e[n])return;let r=this.#s.get(n);if(!r)throw Error(`Storage comms does not exist for nsKey: ${n}`);Promise.all([this.parseValue(e[n].newValue),this.parseValue(e[n].oldValue)]).then(([e,n])=>{for(let s of r.callbackSet)s({newValue:e,oldValue:n},t)})};this.#e.onChanged.addListener(s),this.#s.set(n,{callbackSet:r,listener:s})}};unwatch=e=>{let t=this.isWatchSupported();return t&&this.#l(e),t};#l(e){for(let t in e){let n=this.getNamespacedKey(t),r=e[t],s=this.#s.get(n);s&&(s.callbackSet.delete(r),0===s.callbackSet.size&&(this.#s.delete(n),this.#e.onChanged.removeListener(s.listener)))}}unwatchAll=()=>this.#c();#c(){this.#s.forEach(({listener:e})=>this.#e.onChanged.removeListener(e)),this.#s.clear()}async getItem(e){return this.get(e)}async setItem(e,t){await this.set(e,t)}async removeItem(e){return this.remove(e)}},l=class extends o{get=async e=>{let t=this.getNamespacedKey(e),n=await this.rawGet(t);return this.parseValue(n)};set=async(e,t)=>{let n=this.getNamespacedKey(e),r=JSON.stringify(t);return this.rawSet(n,r)};remove=async e=>{let t=this.getNamespacedKey(e);return this.rawRemove(t)};setNamespace=e=>{this.keyNamespace=e};parseValue=async e=>{try{if(void 0!==e)return JSON.parse(e)}catch(e){console.error(e)}}}},{pify:"e8SYa","@parcel/transformer-js/src/esmodule-helpers.js":"cHUbl"}],e8SYa:[function(e,t,n){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(n),r.export(n,"default",()=>a);let s=(e,t,n,r)=>function(...s){let i=t.promiseModule;return new i((i,a)=>{t.multiArgs?s.push((...e)=>{t.errorFirst?e[0]?a(e):(e.shift(),i(e)):i(e)}):t.errorFirst?s.push((e,t)=>{e?a(e):i(t)}):s.push(i);let o=this===n?r:this;Reflect.apply(e,o,s)})},i=new WeakMap;function a(e,t){t={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...t};let n=typeof e;if(!(null!==e&&("object"===n||"function"===n)))throw TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${null===e?"null":n}\``);let r=(e,n)=>{let r=i.get(e);if(r||(r={},i.set(e,r)),n in r)return r[n];let s=e=>"string"==typeof e||"symbol"==typeof n?n===e:e.test(n),a=Reflect.getOwnPropertyDescriptor(e,n),o=void 0===a||a.writable||a.configurable,l=t.include?t.include.some(e=>s(e)):!t.exclude.some(e=>s(e)),c=l&&o;return r[n]=c,c},a=new WeakMap,o=new Proxy(e,{apply(e,n,r){let i=a.get(e);if(i)return Reflect.apply(i,n,r);let l=t.excludeMain?e:s(e,t,o,e);return a.set(e,l),Reflect.apply(l,n,r)},get(e,n){let i=e[n];if(!r(e,n)||i===Function.prototype[n])return i;let l=a.get(i);if(l)return l;if("function"==typeof i){let n=s(i,t,o,e);return a.set(i,n),n}return i}});return o}},{"@parcel/transformer-js/src/esmodule-helpers.js":"cHUbl"}],cHUbl:[function(e,t,n){n.interopDefault=function(e){return e&&e.__esModule?e:{default:e}},n.defineInteropFlag=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.exportAll=function(e,t){return Object.keys(e).forEach(function(n){"default"===n||"__esModule"===n||t.hasOwnProperty(n)||Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[n]}})}),t},n.export=function(e,t,n){Object.defineProperty(e,t,{enumerable:!0,get:n})}},{}]},["7PQKK"],"7PQKK","parcelRequire17c9"),globalThis.define=t;